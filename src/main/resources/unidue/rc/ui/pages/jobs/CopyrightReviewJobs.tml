<html t:type="adminlayout" title="${message:copyright.review.jobs.page.title}" xmlns:t="http://tapestry.apache.org/schema/tapestry_5_3.xsd">

    <div class="row">

        <div class="col-lg-8">
            <table class="table table-hover">
                <thead>

                    <!-- ordered column names -->
                    <tr>
                        <th>
                            ${message:reserve.collection.abbr}
                            <t:ajaxsortlink for="collectionID" />

                        </th>
                        <th>${message:modified}</th>
                        <th>
                            ${message:libraryLocation-label}
                            <t:ajaxsortlink for="locationName" />
                        </th>


                        <th>
                            ${message:filename}
                            <t:ajaxsortlink for="fileName" />
                        </th>
                        <th>${message:mime.type}</th>

                        <th>
                            ${message:status}
                            <t:ajaxsortlink for="reviewStatus" />
                        </th>
                    </tr>
                    <tr>
                        <th>
                            <t:zone t:id="filterZone" id="filterZone" update="none">
                                <t:form t:id="filterForm" t:clientValidation="none" zone="^">
                                    <t:textfield value="filterCollectionID" id="filterCollectionID" class="form-control input-sm"
                                        t:mixins="zoneUpdater" t:clientEvent="keyup" t:event="collectionIDChanged"
                                        t:zone="jobsZone" />
                                </t:form>
                            </t:zone>
                        </th>
                        <th></th>

                        <th>
                            <t:zone t:id="locationZone" id="locationZone" update="none">
                                <t:form t:id="locationForm" t:clientValidation="none" zone="^">
                                    <t:select value="filterLocation" model="libraryLocationSelectModel" t:id="locationFilter"
                                        id="libraryLocation" zone="jobsZone" class="form-control input-sm" encoder="libraryLocationEncoder"
                                        blankLabel="message:blank-label" />
                                </t:form>
                            </t:zone>
                        </th>


                        <th>
                            <t:zone t:id="filenameZone" id="filenameZone" update="none">
                                <t:form t:id="filenameForm" t:clientValidation="none" zone="^">
                                    <t:textfield value="filterFilename" id="filterFilename" class="form-control input-sm"
                                        t:mixins="zoneUpdater" t:clientEvent="keyup" t:event="filterFilenameChanged"
                                        t:zone="jobsZone" />
                                </t:form>
                            </t:zone>
                        </th>

                    </tr>
                </thead>


                <!-- solrfield layout -->
                <tbody t:type="zone" t:id="jobsZone" id="jobsZone" t:update="none">
                    <t:loop source="copyrightReviews.items" value="review">
                        <tr style="color: ${prop:statusColor};">

                            <td>${review.collectionID}</td>

                            <td>
                                <t:output t:value="review.modified" format="modifiedOutputFormat" />
                            </td>

                            <td>${review.locationName}</td>

                            <td>
                                <t:pagelink page="entry/download" context="[review.resourceID,'inline']"
                                    title="${review.fileName}" target="_blank">${review.fileName}</t:pagelink>
                            </td>

                            <td>
                                <t:if test="mimeTypeIcon">
                                    <img src="${context:/img/mimetypes}/${mimeTypeIcon}" />
                                </t:if>
                            </td>

                            <td>
                                <div class="circle-container">
                                    ${statusLabel}
                                    <span class="circle" style="border-color: ${statusColor};" />
                                </div>
                            </td>

                            <td>
                                <t:eventlink zone="jobsZone" event="editJob" context="review.resourceID"
                                    t:id="editJobLink">
                                    <span class="glyphicon glyphicon-edit"></span>
                                </t:eventlink>
                            </td>
                        </tr>
                    </t:loop>
                </tbody>
            </table>

            <t:zone t:id="paginationZone" id="paginationZone" t:update="none">

                <t:pagination t:id="pagination" maxRowsPerPage="sys:pagination.max.rows" range="sys:pagination.range"
                    itemCount="copyrightReviews.count"></t:pagination>
            </t:zone>
        </div>

        <aside class="col-lg-4 shadow-left">

            <t:delegate to="editJobBlock" />

        </aside>


    </div>



    <t:block t:id="editJobBlock" id="editJobBlock">

        <t:zone t:id="editJobZone" id="editJobZone" update="none" class="row bg-main">
            <t:if test="isBlockVisible('EditJob')">
                <form t:type="form" class="form-horizontal" t:clientValidation="none" t:id="edit_scan_job_form"
                    t:zone="^">
                    <h3>${message:resource}</h3>
                    
                    <fieldset>
                    
                        <div class="form-group">
                        <label class="col-md-3 control-label">${message:file}</label>

                        <div class="col-md-8">
                            <div class="form-control-static">

                                <td>
                                <t:pagelink page="entry/download" context="[review.resourceID,'inline']"
                                    title="${review.fileName}" target="_blank">${review.fileName}</t:pagelink>
                            </td>
                            </div>
                        </div>
                    </div>
                    
                    
                        <div class="form-group">
                        <div class="col-md-offset-3 col-md-8">

                            <label for="grab">
                                <input t:type="checkbox" t:id="isDeleted" id="isDeleted" value="isDeleted"/>
                                ${message:filedeletedstatus}
                            </label>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="copyrightStatus" class="col-md-3 control-label">${message:copyright-label}</label>

                        <div class="col-md-8">








                            <select t:type="Select" t:id="copyrightStatus" id="copyrightStatus" t:value="copyrightStatus"
                                    data-placeholder="${message:chosen-placeholder-label}"
                                    t:blankOption="NEVER" class="form-control"/>
                            <t:error for="copyrightStatus"/>
                        </div>
                    </div> 
                    
                       <div class="form-group">
                        <label for="pageStart" class="col-md-3 control-label">${message:url}</label>

                        <div class="col-md-8">
                            <input t:type="textfield" t:id="fullTextURL" id="fullTextURL" value="fullTextURL"
                                   class="form-control"/>
                            
                        </div>
                    </div>   
                    
                      
                    
                    </fieldset>
                </form>
            </t:if>
        </t:zone>
    </t:block>

</html>